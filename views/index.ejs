<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Product List</title>
  <link rel="stylesheet" href='/css/landing-page.css'>
  <link rel="stylesheet" href='/css/global.css'>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="stylesheet" href= "/node_modules/@glidejs/glide/dist/css/glide.core.min.css">
  <link rel="stylesheet" href= "/node_modules/@glidejs/glide/dist/css/glide.theme.min.css">
  <link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />
</head>
<body>
  <% var rootPath = '../'; %>
  <%- include(rootPath + 'public/components/nav.html'); %>

  <!-- Display product list -->
  <div class="hero2 centered flex row">
    <div class="hero-title-container flex column" data-aos="flip-up" data-aos-duration="500">
      <h1 id="hero-title" class="title">IT211Store</h1>
      <!--h3>new arrivals</h3-->
      <!--h3>new arrivals</h3-->
    </div>
    <img src="/img/elements/new-arrival.png" class="new-arrival flex centered full-width" alt="new-arrival">
    <div class="paper-container flex centered">
      <img src="/img/elements/paper.png" class="paper flex centered" alt="paper-element">
      <div class="glide embosed">
        <div class="glide__track" data-glide-el="track">
          <ul class="glide__slides">
            <li class="glide__slide flex centered">
              <img src="/img/promotional-pics/1.png" alt="promotional-pic-1">
            </li>
            <li class="glide__slide flex centered">
              <img src="/img/promotional-pics/2.png" alt="promotional-pic-2">
            </li>
            <li class="glide__slide flex centered">
              <img src="/img/promotional-pics/3.png" alt="promotional-pic-3">
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div class="overlap embosed"></div>
  </div>

  <section id="products" class="flex centered column full-width">
    <div class="products-container column flex centered row" data-aos="fade-up" data-aos-duration="1000">
      <div class="products-title flex full-width auto-margin wrap">
        <h1>IT211Store</h1>
        <div class="search-box flex rounded centered">
          <span class="material-symbols-outlined">
            Search
          </span>
          <input type="text" id="search" placeholder="Search products...">
        </div>
      </div>
      <div class="listings flex gap full-width auto-margin wrap">
        <% products.forEach(product => { %>
          <a href="/product/<%= product._id %>" alt="<%=product.name%> image">
          <div class="product-card flex centered-x column rounded embosed">
             <div class="product-contents flex centered-x column auto-margin full-width full-height">
              <img class="product-image flex" src="<%= product.image_url %>" >
              <div class="product-desc flex row auto-margin gap">
              <div>
                <h2><%= product.name %></h2>  
                <p><%= product.description %></p>
              </div>
              <div>
                <p>Price: $<%= product.price %></p>
                <p>Stock: <%= product.stock %></p>
              </div>
            </div>
              <form action="/cart/addtocart" method="POST">
                <input type="hidden" name="product_name" value="<%= product.name %>" />
                <input type="hidden" name="product_id" value="<%= product._id %>" />
                <input type="hidden" name="price" value="<%= product.price %>" />
                <div class="submit flex auto-margin">
                  <span class="material-symbols-outlined">
                    shopping_cart
                  </span>
                  <input id="submit-button" type="submit" value="Add to Cart" />
                </div>
              </form>
            </div>
          </div>
          </a>
        <% }); %>
      </div>
      </div>
  </section>

  <%- include(rootPath + 'public/components/footer.html'); %>

  <script src="/node_modules/@glidejs/glide/dist/glide.min.js"></script>
  <script src="https://unpkg.com/aos@next/dist/aos.js"></script>
  <script src="/scripts/script.js"></script>
  <script src="/scripts/home.js"></script>
</body>
</html>
